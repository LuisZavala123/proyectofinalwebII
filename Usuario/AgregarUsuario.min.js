var expr = /^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/, exprn = /^[A-ZÁÉÍÓÚ][a-záéíúó]+$/, ready = 0; let nom = 0, ap = 0, cor = 0; var mensj = ""; $(document).ready(function () { $("#contenido_contenido_btnAceptar").click(function (e) { e.preventDefault(); var o = $("#contenido_contenido_txtNombre").val(), n = $("#contenido_contenido_txtApellidoP").val(), t = $("#contenido_contenido_txtApellidoM").val(), a = $("#contenido_contenido_txtPassword").val(), r = $("#contenido_contenido_txtEmail").val(), s = $("#contenido_contenido_CboxTipo").val(); exprn.test(o) ? (ready += 1, nom = 0) : (nom = 1, ready = 0, mensj = mens + "Nombre, "), exprn.test(n) ? (ready += 1, ap = 0) : (ap = 1, ready = 0, mensj = mens + "Apellido Paterno, "), exprn.test(t) ? ready += 1 : ready = 0, expr.test(r) ? (ready += 1, cor = 0) : (cor = 1, ready = 0, mensj = mens + "Correo, "), (a = $("#contenido_contenido_txtPassword").val()) ? ready += 1 : (ready = 0, mensj = mens + "Contraseña "), console.log(ready), 5 == ready ? (console.log("Si"), ready = 0, $.ajax({ url: "WS/WSUsuario.asmx/Agregar", data: '{ "nom":"' + o + '", "primer_apellido":"' + n + '", "segundo_apellido":"' + t + '", "contraseña": "' + a + '", "Correo": "' + r + '", "Tipo":"' + s + '"}', contentType: "application/json; utf-8", dataType: "json", type: "POST", success: function (e) { sessionStorage.setItem("indx", null), location.href = "index.html", console.log(e) }, error: function (e) { $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > a acurrido un error </strong >'), console.log(e) } })) : (ready = 0, $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > Verifique los datos en: </strong >' + mensj), console.log("Verifique los datos")) }) });