var expr = /^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9\-]+\.[a-zA-Z0-9\-\.]+$/, exprn = /^[A-ZÁÉÍÓÚ][a-záéíúó]+$/, ready = 0; let nom = 0, ap = 0, cor = 0; var mensj = ""; $(document).ready(function () { $("#frm").validate({ rules: { ctl00$ctl00$contenido$contenido$txtApellidoP: { required: !0, lettersonly: !0, minlength: 2 }, ctl00$ctl00$contenido$contenido$txtApellidoM: { required: !1, lettersonly: !0, minlength: 2 }, ctl00$ctl00$contenido$contenido$txtNombre: { required: !0, lettersonly: !0, minlength: 2 }, ctl00$ctl00$contenido$contenido$txtEmail: { required: !0, email: !0 }, ctl00$ctl00$contenido$contenido$txtPassword: { required: !0 }, ctl00$ctl00$contenido$contenido$txtRPassword: { required: !0, equalTo: "#ctl00$ctl00$contenido$contenido$txtPassword" } }, messages: { ctl00$ctl00$contenido$contenido$txtApellidoP: { required: "Por favor, ingrese un Apellido Paterno", lettersonly: "Por favor, ingrese Apellido valido", minlength: "Por favor, ingrese un Apellido real" }, ctl00$ctl00$contenido$contenido$txtApellidoM: { lettersonly: "Por favor, ingrese Apellido valido", minlength: "Por favor, ingrese un Apellido real" }, ctl00$ctl00$contenido$contenido$txtNombre: { required: "Por favor, ingrese un nombre", lettersonly: "Por favor, ingrese nombre valido", minlength: "Por favor, ingrese un nombre real" }, ctl00$ctl00$contenido$contenido$txtEmail: { required: "Por favor, ingrese un correo", email: "Por favor, ingrese correo valido" }, ctl00$ctl00$contenido$contenido$txtPassword: { required: "Por favor, ingrese una contraseña" }, ctl00$ctl00$contenido$contenido$txtRPassword: { required: "Por favor, ingrese nuevamente la contraseña", equalTo: "Por favor, ingrese contraseña correcta" } } }), $("#contenido_contenido_btnAceptar").click(function (e) { e.preventDefault(), mensj = ""; var o = $("#contenido_contenido_txtNombre").val(), n = $("#contenido_contenido_txtApellidoP").val(), t = $("#contenido_contenido_txtApellidoM").val(), r = $("#contenido_contenido_txtPassword").val(), i = $("#contenido_contenido_txtEmail").val(), l = $("#contenido_contenido_CboxTipo").val(); exprn.test(o) ? (ready += 1, nom = 0) : (nom = 1, ready = 0, mensj += "Nombre, "), exprn.test(n) ? (ready += 1, ap = 0) : (ap = 1, ready = 0, mensj += "Apellido , "), expr.test(i) ? (ready += 1, cor = 0) : (cor = 1, ready = 0, mensj += "Correo, "), (r = $("#contenido_contenido_txtRPassword").val()) ? ready += 1 : (ready = 0, mensj += "Contraseña "), console.log(ready), 4 == ready ? (console.log("Si"), ready = 0, $.ajax({ url: "WS/WSUsuario.asmx/Agregar", data: '{ "nom":"' + o + '", "primer_apellido":"' + n + '", "segundo_apellido":"' + t + '", "contraseña": "' + r + '", "Correo": "' + i + '", "Tipo":"' + l + '"}', contentType: "application/json; utf-8", dataType: "json", type: "POST", success: function (e) { sessionStorage.setItem("indx", null), sessionStorage.setItem("accion", "Usuario"), location.href = "index.html", console.log(e) }, error: function (e) { $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > a acurrido un error </strong >'), $("#mensaje").show(), console.log(e) } })) : (ready = 0, $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > Verifique los datos en: </strong >' + mensj), $("#mensaje").show(), console.log("Verifique los datos")) }) });