var tabla = null; function otro() { sessionStorage.setItem("indx", "5"), location.href = "index.html" } $("#contenido_contenido_btnGenerar").click(function (t) { t.preventDefault(); let e = $("#Fecha").val(); $.ajax({ url: "WS/WSVenta.asmx/GetallDetalles", data: '{ "fecha":"' + e + '"}', contentType: "application/json; utf-8", dataType: "json", type: "POST", success: function (t) { $("#grvLista").empty(), $("#grvLista thead").remove(), $("#grvLista tbody").remove(), $("#grvLista tr").remove(), $("#grvLista td").remove(); let e, a = $("#grvLista"), o = $("<thead/>").append("<tr><th>Producto</th><th>Tipo</th><th>Cantidad</th><th>Total</th>"); $(a).append(o), $(a).append("<tbody/>"); for (var n = 0; n < t.d.length; n++) { e = document.createElement("tr"); let o = "<td>" + t.d[n].Nombre + "</td><td>" + t.d[n].Tipo + "</td><td>" + t.d[n].Cantidad.toString() + "</td><td>" + t.d[n].Total.toString() + "</td>"; e.innerHTML = o, $(a).children("tbody").append(e) } $("#grvLista thead tr th").each(function (t) { var e = $(this).text(); $(this).html('<input type="text" placeholder="Search ' + e + '" />'), $("input", this).on("keyup change", function (e) { $("#grvLista").DataTable().column(t).search() !== this.value && 13 == e.keyCode && ($("#grvLista").DataTable({ destroy: !0, orderCellsTop: !0, fixedHeader: !0 }).column(t).search(this.value).draw(), console.log("fun")) }) }), $("#grvLista").DataTable({ destroy: !0, orderCellsTop: !0, fixedHeader: !0 }), console.log(t) }, error: function (t) { console.log(t) } }) });