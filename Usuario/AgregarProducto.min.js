let nom = 0, cos = 0; var expr = /^[0-9]+\.[0-9]?[0-9]$/, exprn = /^[A-ZÁÉÍÓÚ][a-záéíúó]+$/, ready = 0, mensj = ""; $(document).ready(function () { $("#contenido_contenido_btnAceptar").click(function (o) { o.preventDefault(); var e = $("#contenido_contenido_txtNombre").val(), t = $("#contenido_contenido_txtCosto").val(), n = $("#contenido_contenido_txtDescripcion").val(), s = $("#contenido_contenido_CboxTipo").val(); mensj = "", exprn.test(e) ? (ready += 1, nom = 0) : (ready = 0, nom = 1, mensj += "Nombre, "), expr.test(t) ? (ready += 1, cos = 0) : (ready = 0, cos = 1, mensj += "Costo"), console.log(ready), 2 == ready ? $.ajax({ url: "WS/WSArticulos.asmx/Agregar", data: '{ "nom":"' + e + '", "costo":"' + t + '", "Descripcion":"' + n + '", "Tipo": "' + s + '" }', contentType: "application/json; utf-8", dataType: "json", type: "POST", success: function (o) { sessionStorage.setItem("indx", null), sessionStorage.setItem("accion", "Producto"), location.href = "index.html" }, error: function (o) { $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > a acurrido un error </strong >'), $("#mensaje").show(), console.log(o) } }) : (ready = 0, $("#mensaje").html('<button type="button" class="close" data-dismiss="alert" >&times;</button><strong > Verifique los datos en: </strong >' + mensj), $("#mensaje").show(), console.log("Verifique Datos")) }) });